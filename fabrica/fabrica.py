#!/usr/bin/python3
# -*- encoding: utf-8 -*-

import socket
from urllib.parse import urlparse
from abc import ABCMeta, abstractmethod

class Fabrica(metaclass=ABCMeta):

    @abstractmethod
    def __init__(self, url, usuarioPrueba=list()):
        self.url = url
        self.usuarioP = usuarioPrueba
    
    @abstractmethod
    def obtenerProcesos(self, riesgoNegocio=0.0):
        raise NotImplementedError
    
    def obtenerDominio(self):
        u = urlparse(self.url)
        url = u.netloc
        return url
    
    def obtenerIp(self):
        u = urlparse(self.url)
        url = u.netloc
        return socket.gethostbyname(url)
    
    def domain(self):
        url_tmp = self.obtenerDominio()
        if "www" in url_tmp:
            url  = url_tmp.lstrip("www.")
            return url
        else:
            return url_tmp

        

    