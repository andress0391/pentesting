#!/usr/bin/python3
# -*- encoding: utf-8 -*-

import os
import argparse
from FACADE import Facade

path = os.path.dirname(os.path.realpath(__file__))

parser = argparse.ArgumentParser()
parser.add_argument("--pruebas", help="display a square of a given number",type=str)
parser.add_argument("--url", help="URL del sitio. Ej: http://www.example.com",type=str)
parser.add_argument("--login", help="URL del sitio. Ej: http://www.example.com/login.html",type=str)
parser.add_argument("--usuario", help="Usuario de prueba. Ej: usuario1,password1",type=str)


args = parser.parse_args()
url = args.url
login = args.login
up = args.usuario
pruebas = args.pruebas

'''
c = Pentest()
a = c.getLastRecord()

c.id = a[0]
c.url_ip = a[1]
c.fecha_Ini = a[2]
print(c.id, c.url_ip, c.fecha_Ini)
temp = a[0]+1
print(temp)
'''

#a = c.insert(url)

f = Facade(url, pruebas, login, up, 1)
f.crearPentest()
#procesos = f.repartir()
info =  f.obtenerInfo()

resultado = list()

# ================================ Ejecutar todos los procesos
#print(f.obtenerInfo())

resultado = f.ejecutar(info[0])
#print(resultado)
