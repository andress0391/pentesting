#!/usr/bin/python3
# -*- encoding: utf-8 -*-

import os
import argparse
from FACADE import Facade

path = os.path.dirname(os.path.realpath(__file__))

parser = argparse.ArgumentParser()
parser.add_argument("--pruebas", help="display a square of a given number",type=str)
parser.add_argument("--url", help="URL del sitio. Ej: http://www.example.com",type=str)
parser.add_argument("--login", help="URL del sitio. Ej: http://www.example.com/login.html",type=str)
parser.add_argument("--usuario", help="Usuario de prueba. Ej: usuario1,password1",type=str)
parser.add_argument("--id_pentest", help="Usuario de prueba. Ej: usuario1,password1",type=int)
parser.add_argument("--riesgos", help="Usuario de prueba. Ej: usuario1,password1",type=str)

args = parser.parse_args()
url = args.url
login = args.login
up = args.usuario
pruebas = args.pruebas
id_pentest = args.id_pentest
riesgoNegocio = args.riesgos

f = Facade(url, pruebas, login, up, riesgoNegocio, 1)
f.crearPentest2(id_pentest)
#f.crearPentest()

info =  f.obtenerInfo()
f.ejecutar(info[0])
if pruebas != None:
    procesos = f.repartir()
    f.ejecutar(procesos[0])
else:
    pass

